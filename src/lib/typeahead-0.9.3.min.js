(function(f){var b={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(b){return!b||/^\s*$/.test(b)},escapeRegExChars:function(b){return b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(b){return"string"===typeof b},isNumber:function(b){return"number"===typeof b},isArray:f.isArray,isFunction:f.isFunction,isObject:f.isPlainObject,isUndefined:function(b){return"undefined"===
typeof b},bind:f.proxy,bindAll:function(b){var e,a;for(a in b)f.isFunction(e=b[a])&&(b[a]=f.proxy(e,b))},indexOf:function(b,e){for(var a=0;a<b.length;a++)if(b[a]===e)return a;return-1},each:f.each,map:f.map,filter:f.grep,every:function(b,e){var a=!0;if(!b)return a;f.each(b,function(c,d){if(!(a=e.call(null,d,c,b)))return!1});return!!a},some:function(b,e){var a=!1;if(!b)return a;f.each(b,function(c,d){if(a=e.call(null,d,c,b))return!1});return!!a},mixin:f.extend,getUniqueId:function(){var b=0;return function(){return b++}}(),
defer:function(b){setTimeout(b,0)},debounce:function(b,e,a){var c,d;return function(){var h=this,k=arguments,g;g=a&&!c;clearTimeout(c);c=setTimeout(function(){c=null;a||(d=b.apply(h,k))},e);g&&(d=b.apply(h,k));return d}},throttle:function(b,e){var a,c,d,h,k,g;k=0;g=function(){k=new Date;d=null;h=b.apply(a,c)};return function(){var p=new Date,f=e-(p-k);a=this;c=arguments;0>=f?(clearTimeout(d),d=null,k=p,h=b.apply(a,c)):d||(d=setTimeout(g,f));return h}},tokenizeQuery:function(b){return f.trim(b).toLowerCase().split(/[\s]+/)},
tokenizeText:function(b){return f.trim(b).toLowerCase().split(/[\s\-_]+/)},getProtocol:function(){return location.protocol},noop:function(){}},n=function(){var b=/\s+/;return{on:function(e,a){var c;if(!a)return this;this._callbacks=this._callbacks||{};for(e=e.split(b);c=e.shift();)this._callbacks[c]=this._callbacks[c]||[],this._callbacks[c].push(a);return this},trigger:function(e,a){var c,d;if(!this._callbacks)return this;for(e=e.split(b);c=e.shift();)if(d=this._callbacks[c])for(var h=0;h<d.length;h+=
1)d[h].call(this,{type:c,data:a});return this}}}(),t=function(){function l(b){b&&b.el||f.error("EventBus initialized without el");this.$el=f(b.el)}b.mixin(l.prototype,{trigger:function(b){var a=[].slice.call(arguments,1);this.$el.trigger("typeahead:"+b,a)}});return l}(),u=function(){function f(a){this.prefix=["__",a,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+this.prefix)}function e(a){return JSON.stringify(b.isUndefined(a)?null:a)}var a;try{a=window.localStorage,a.setItem("~~~",
"!"),a.removeItem("~~~")}catch(c){a=null}b.mixin(f.prototype,a&&window.JSON?{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},get:function(d){this.isExpired(d)&&this.remove(d);d=a.getItem(this._prefix(d));return JSON.parse(d)},set:function(d,h,c){b.isNumber(c)?a.setItem(this._ttlKey(d),e((new Date).getTime()+c)):a.removeItem(this._ttlKey(d));return a.setItem(this._prefix(d),e(h))},remove:function(d){a.removeItem(this._ttlKey(d));a.removeItem(this._prefix(d));
return this},clear:function(){var d,h,b=[],c=a.length;for(d=0;d<c;d++)(h=a.key(d)).match(this.keyMatcher)&&b.push(h.replace(this.keyMatcher,""));for(d=b.length;d--;)this.remove(b[d]);return this},isExpired:function(d){d=a.getItem(this._ttlKey(d));d=JSON.parse(d);return b.isNumber(d)&&(new Date).getTime()>d?!0:!1}}:{get:b.noop,set:b.noop,remove:b.noop,clear:b.noop,isExpired:b.noop});return f}(),v=function(){function f(e){b.bindAll(this);e=e||{};this.sizeLimit=e.sizeLimit||10;this.cache={};this.cachedKeysByAge=
[]}b.mixin(f.prototype,{get:function(b){return this.cache[b]},set:function(b,a){var c;this.cachedKeysByAge.length===this.sizeLimit&&(c=this.cachedKeysByAge.shift(),delete this.cache[c]);this.cache[b]=a;this.cachedKeysByAge.push(b)}});return f}(),w=function(){function l(a){b.bindAll(this);a=b.isString(a)?{url:a}:a;d=d||new v;c=b.isNumber(a.maxParallelRequests)?a.maxParallelRequests:c||6;this.url=a.url;this.wildcard=a.wildcard||"%QUERY";this.filter=a.filter;this.replace=a.replace;this.ajaxSettings=
{type:"get",cache:a.cache,timeout:a.timeout,dataType:a.dataType||"json",beforeSend:a.beforeSend};this._get=(/^throttle$/i.test(a.rateLimitFn)?b.throttle:b.debounce)(this._get,a.rateLimitWait||300)}var e=0,a={},c,d;b.mixin(l.prototype,{_get:function(a,b){function g(c){var g=f.filter?f.filter(c):c;b&&b(g);d.set(a,c)}var f=this;e<c?this._sendRequest(a).done(g):this.onDeckRequestArgs=[].slice.call(arguments,0)},_sendRequest:function(d){function b(){e--;a[d]=null;c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),
c.onDeckRequestArgs=null)}var c=this,p=a[d];p||(e++,p=a[d]=f.ajax(d,this.ajaxSettings).always(b));return p},get:function(a,c){var g=this,f=encodeURIComponent(a||""),e;c=c||b.noop;f=this.replace?this.replace(this.url,f):this.url.replace(this.wildcard,f);(e=d.get(f))?b.defer(function(){c(g.filter?g.filter(e):e)}):this._get(f,c);return!!e}});return l}(),x=function(){function l(a){b.bindAll(this);b.isString(a.template)&&!a.engine&&f.error("no template engine specified");a.local||a.prefetch||a.remote||
f.error("one of local, prefetch, or remote is required");this.name=a.name||b.getUniqueId();this.limit=a.limit||5;this.minLength=a.minLength||1;this.header=a.header;this.footer=a.footer;this.valueKey=a.valueKey||"value";this.template=e(a.template,a.engine,this.valueKey);this.local=a.local;this.prefetch=a.prefetch;this.remote=a.remote;this.itemHash={};this.adjacencyList={};this.storage=a.name?new u(a.name):null}function e(a,c,d){b.isFunction(a)||(b.isString(a)?(a=c.compile(a),a=b.bind(a.render,a)):
a=function(a){return"<p>"+a[d]+"</p>"});return a}b.mixin(l.prototype,{_processLocalData:function(a){this._mergeProcessedData(this._processData(a))},_loadPrefetchData:function(a){function c(c){c=a.filter?a.filter(c):c;c=d._processData(c);var k=c.itemHash,g=c.adjacencyList;d.storage&&(d.storage.set("itemHash",k,a.ttl),d.storage.set("adjacencyList",g,a.ttl),d.storage.set("thumbprint",h,a.ttl),d.storage.set("protocol",b.getProtocol(),a.ttl));d._mergeProcessedData(c)}var d=this,h="0.9.3"+(a.thumbprint||
""),k,g,e,m;this.storage&&(k=this.storage.get("thumbprint"),g=this.storage.get("protocol"),e=this.storage.get("itemHash"),m=this.storage.get("adjacencyList"));k=k!==h||g!==b.getProtocol();a=b.isString(a)?{url:a}:a;a.ttl=b.isNumber(a.ttl)?a.ttl:864E5;e&&m&&!k?(this._mergeProcessedData({itemHash:e,adjacencyList:m}),e=f.Deferred().resolve()):e=f.getJSON(a.url).done(c);return e},_transformDatum:function(a){var c=b.isString(a)?a:a[this.valueKey],d=a.tokens||b.tokenizeText(c),c={value:c,tokens:d};b.isString(a)?
(c.datum={},c.datum[this.valueKey]=a):c.datum=a;c.tokens=b.filter(c.tokens,function(a){return!b.isBlankString(a)});c.tokens=b.map(c.tokens,function(a){return a.toLowerCase()});return c},_processData:function(a){var c=this,d={},h={};b.each(a,function(a,g){var f=c._transformDatum(g),e=b.getUniqueId(f.value);d[e]=f;b.each(f.tokens,function(a,d){var c=d.charAt(0),c=h[c]||(h[c]=[e]);!~b.indexOf(c,e)&&c.push(e)})});return{itemHash:d,adjacencyList:h}},_mergeProcessedData:function(a){var c=this;b.mixin(this.itemHash,
a.itemHash);b.each(a.adjacencyList,function(a,b){var k=c.adjacencyList[a];c.adjacencyList[a]=k?k.concat(b):b})},_getLocalSuggestions:function(a){var c=this,d=[],h=[],k,g=[];b.each(a,function(a,c){var h=c.charAt(0);!~b.indexOf(d,h)&&d.push(h)});b.each(d,function(a,d){var b=c.adjacencyList[d];if(!b)return!1;h.push(b);if(!k||b.length<k.length)k=b});if(h.length<d.length)return[];b.each(k,function(d,k){var f=c.itemHash[k];b.every(h,function(a){return~b.indexOf(a,k)})&&b.every(a,function(a){return b.some(f.tokens,
function(d){return 0===d.indexOf(a)})})&&g.push(f)});return g},initialize:function(){var a;this.local&&this._processLocalData(this.local);this.transport=this.remote?new w(this.remote):null;a=this.prefetch?this._loadPrefetchData(this.prefetch):f.Deferred().resolve();this.local=this.prefetch=this.remote=null;this.initialize=function(){return a};return a},getSuggestions:function(a,c){function d(a){g=g.slice(0);b.each(a,function(a,d){var c=h._transformDatum(d);!b.some(g,function(a){return c.value===a.value})&&
g.push(c);return g.length<h.limit});c&&c(g)}var h=this,k,g,f=!1;a.length<this.minLength||(k=b.tokenizeQuery(a),g=this._getLocalSuggestions(k).slice(0,this.limit),g.length<this.limit&&this.transport&&(f=this.transport.get(a,d)),!f&&c&&c(g))}});return l}(),y=function(){function l(a){var c=this;b.bindAll(this);this.specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};this.$hint=f(a.hint);this.$input=f(a.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",
this._handleSpecialKeyEvent);if(b.isMsie())this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){c.specialKeyCodeMap[a.which||a.keyCode]||b.defer(c._compareQueryToInputValue)});else this.$input.on("input.tt",this._compareQueryToInputValue);this.query=this.$input.val();this.$overflowHelper=e(this.$input)}function e(a){return f("<span></span>").css({position:"absolute",left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:a.css("font-family"),fontSize:a.css("font-size"),fontStyle:a.css("font-style"),
fontVariant:a.css("font-variant"),fontWeight:a.css("font-weight"),wordSpacing:a.css("word-spacing"),letterSpacing:a.css("letter-spacing"),textIndent:a.css("text-indent"),textRendering:a.css("text-rendering"),textTransform:a.css("text-transform")}).insertAfter(a)}b.mixin(l.prototype,n,{_handleFocus:function(){this.trigger("focused")},_handleBlur:function(){this.trigger("blured")},_handleSpecialKeyEvent:function(a){var b=this.specialKeyCodeMap[a.which||a.keyCode];b&&this.trigger(b+"Keyed",a)},_compareQueryToInputValue:function(){var a=
this.getInputValue(),b;b=this.query;var d=a;b=(b||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ");d=(d||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ");(b=b===d)&&this.query.length!==a.length?this.trigger("whitespaceChanged",{value:this.query}):b||this.trigger("queryChanged",{value:this.query=a})},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=null},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},
setQuery:function(a){this.query=a},getInputValue:function(){return this.$input.val()},setInputValue:function(a,b){this.$input.val(a);!b&&this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(a){this.$hint.val(a)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var a=
this.$input.val().length,c=this.$input[0].selectionStart;return b.isNumber(c)?c===a:document.selection?(c=document.selection.createRange(),c.moveStart("character",-a),a===c.text.length):!0}});return l}(),z=function(){function l(a){b.bindAll(this);this.isOpen=!1;this.isEmpty=!0;this.isMouseOverDropdown=!1;this.$menu=f(a.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",
this._handleMouseover)}function e(a){return a.data("suggestion")}var a={display:"block"},c={whiteSpace:"nowrap",cursor:"pointer"},d={whiteSpace:"normal"};b.mixin(l.prototype,n,{_handleMouseenter:function(){this.isMouseOverDropdown=!0},_handleMouseleave:function(){this.isMouseOverDropdown=!1},_handleMouseover:function(a){a=f(a.currentTarget);this._getSuggestions().removeClass("tt-is-under-cursor");a.addClass("tt-is-under-cursor")},_handleSelection:function(a){a=f(a.currentTarget);this.trigger("suggestionSelected",
e(a))},_show:function(){this.$menu.css("display","block")},_hide:function(){this.$menu.hide()},_moveCursor:function(a){var b,d;this.isVisible()&&(b=this._getSuggestions(),d=b.filter(".tt-is-under-cursor"),d.removeClass("tt-is-under-cursor"),a=b.index(d)+a,a=(a+1)%(b.length+1)-1,-1===a?this.trigger("cursorRemoved"):(-1>a&&(a=b.length-1),b=b.eq(a).addClass("tt-is-under-cursor"),this._ensureVisibility(b),this.trigger("cursorMoved",e(b))))},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},
_ensureVisibility:function(a){var b=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),d=this.$menu.scrollTop(),c=a.position().top;a=c+a.outerHeight(!0);0>c?this.$menu.scrollTop(d+c):b<a&&this.$menu.scrollTop(d+(a-b))},destroy:function(){this.$menu.off(".tt");this.$menu=null},isVisible:function(){return this.isOpen&&!this.isEmpty},closeUnlessMouseIsOverDropdown:function(){this.isMouseOverDropdown||this.close()},close:function(){this.isOpen&&
(this.isMouseOverDropdown=this.isOpen=!1,this._hide(),this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor"),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(a){var b={left:"0",right:"auto"},d={left:"auto",right:" 0"};"ltr"===a?this.$menu.css(b):this.$menu.css(d)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getSuggestionUnderCursor:function(){var a=
this._getSuggestions().filter(".tt-is-under-cursor").first();return 0<a.length?e(a):null},getFirstSuggestion:function(){var a=this._getSuggestions().first();return 0<a.length?e(a):null},renderSuggestions:function(h,k){var e="tt-dataset-"+h.name,l,m;m=this.$menu.find("."+e);var n,q,r;0===m.length&&(m=f('<span class="tt-suggestions"></span>').css(a),m=f("<div></div>").addClass(e).append(h.header).append(m).append(h.footer).appendTo(this.$menu));0<k.length?(this.isEmpty=!1,this.isOpen&&this._show(),
n=document.createElement("div"),q=document.createDocumentFragment(),b.each(k,function(a,b){b.dataset=h.name;l=h.template(b.datum);n.innerHTML='<div class="tt-suggestion">%body</div>'.replace("%body",l);r=f(n.firstChild).css(c).data("suggestion",b);r.children().each(function(){f(this).css(d)});q.appendChild(r[0])}),m.show().find(".tt-suggestions").html(q)):this.clearSuggestions(h.name);this.trigger("suggestionsRendered")},clearSuggestions:function(a){a=a?this.$menu.find(".tt-dataset-"+a):this.$menu.find('[class^="tt-dataset-"]');
var b=a.find(".tt-suggestions");a.hide();b.empty();0===this._getSuggestions().length&&(this.isEmpty=!0,this._hide())}});return l}(),A=function(){function l(d){var h,e;b.bindAll(this);var g=d.input;h=f(a.wrapper);e=f(a.dropdown);var g=f(g),l=f(a.hint);h=h.css(c.wrapper);e=e.css(c.dropdown);l.css(c.hint).css({backgroundAttachment:g.css("background-attachment"),backgroundClip:g.css("background-clip"),backgroundColor:g.css("background-color"),backgroundImage:g.css("background-image"),backgroundOrigin:g.css("background-origin"),
backgroundPosition:g.css("background-position"),backgroundRepeat:g.css("background-repeat"),backgroundSize:g.css("background-size")});g.data("ttAttrs",{dir:g.attr("dir"),autocomplete:g.attr("autocomplete"),spellcheck:g.attr("spellcheck"),style:g.attr("style")});g.addClass("tt-query").attr({autocomplete:"off",spellcheck:!1}).css(c.query);try{!g.attr("dir")&&g.attr("dir","auto")}catch(m){}this.$node=g.wrap(h).parent().prepend(l).append(e);this.datasets=d.datasets;this.dir=null;this.eventBus=d.eventBus;
d=this.$node.find(".tt-dropdown-menu");h=this.$node.find(".tt-query");e=this.$node.find(".tt-hint");this.dropdownView=(new z({menu:d})).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent);
this.inputView=(new y({input:h,hint:e})).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed tabKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",
this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)}function e(a){var c=a.find(".tt-query");b.each(c.data("ttAttrs"),function(a,d){b.isUndefined(d)?c.removeAttr(a):c.attr(a,d)});c.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(a);a.remove()}var a={wrapper:'<span class="twitter-typeahead"></span>',
hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',dropdown:'<span class="tt-dropdown-menu"></span>'},c={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}};b.isMsie()&&b.mixin(c.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"});
b.isMsie()&&7>=b.isMsie()&&(b.mixin(c.wrapper,{display:"inline",zoom:"1"}),b.mixin(c.query,{marginTop:"-1px"}));b.mixin(l.prototype,n,{_managePreventDefault:function(a){var b=a.data,c;c=!1;switch(a.type){case "tabKeyed":a=this.inputView.getHintValue();c=this.inputView.getInputValue();c=a&&a!==c;break;case "upKeyed":case "downKeyed":c=!b.shiftKey&&!b.ctrlKey&&!b.metaKey}c&&b.preventDefault()},_setLanguageDirection:function(){var a=this.inputView.getLanguageDirection();a!==this.dir&&(this.dir=a,this.$node.css("direction",
a),this.dropdownView.setLanguageDirection(a))},_updateHint:function(){var a=this.dropdownView.getFirstSuggestion(),a=a?a.value:null,c=this.dropdownView.isVisible(),e=this.inputView.isOverflow();a&&c&&!e&&(c=this.inputView.getInputValue(),e=c.replace(/\s{2,}/g," ").replace(/^\s+/g,""),e=b.escapeRegExChars(e),e=new RegExp("^(?:"+e+")(.*$)","i"),a=e.exec(a),this.inputView.setHintValue(c+(a?a[1]:"")))},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},
_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(a){this.inputView.setInputValue(a.data.value,!0)},_openDropdown:function(){this.dropdownView.open()},_closeDropdown:function(a){this.dropdownView["blured"===a.type?"closeUnlessMouseIsOverDropdown":"close"]()},_moveDropdownCursor:function(a){var b=a.data;if(!b.shiftKey&&!b.ctrlKey&&!b.metaKey)this.dropdownView["upKeyed"===a.type?"moveCursorUp":"moveCursorDown"]()},
_handleSelection:function(a){var c="suggestionSelected"===a.type,e=c?a.data:this.dropdownView.getSuggestionUnderCursor();e&&(this.inputView.setInputValue(e.value),c?this.inputView.focus():a.data.preventDefault(),c&&b.isMsie()?b.defer(this.dropdownView.close):this.dropdownView.close(),this.eventBus.trigger("selected",e.datum,e.dataset))},_getSuggestions:function(){var a=this,c=this.inputView.getQuery();b.isBlankString(c)||b.each(this.datasets,function(b,e){e.getSuggestions(c,function(b){c===a.inputView.getQuery()&&
a.dropdownView.renderSuggestions(e,b)})})},_autocomplete:function(a){var b;if("rightKeyed"===a.type||"leftKeyed"===a.type)if(b=this.inputView.isCursorAtEnd(),a="ltr"===this.inputView.getLanguageDirection()?"leftKeyed"===a.type:"rightKeyed"===a.type,!b||a)return;b=this.inputView.getQuery();a=this.inputView.getHintValue();""!==a&&b!==a&&(b=this.dropdownView.getFirstSuggestion(),this.inputView.setInputValue(b.value),this.eventBus.trigger("autocompleted",b.datum,b.dataset))},_propagateEvent:function(a){this.eventBus.trigger(a.type)},
destroy:function(){this.inputView.destroy();this.dropdownView.destroy();e(this.$node);this.$node=null},setQuery:function(a){this.inputView.setQuery(a);this.inputView.setInputValue(a);this._clearHint();this._clearSuggestions();this._getSuggestions()}});return l}();(function(){var l={},e;e={initialize:function(a){var c;a=b.isArray(a)?a:[a];0===a.length&&f.error("no datasets provided");c=b.map(a,function(a){var b=l[a.name]?l[a.name]:new x(a);a.name&&(l[a.name]=b);return b});return this.each(function(){var a=
f(this),e,k=new t({el:a});e=b.map(c,function(a){return a.initialize()});a.data("ttView",new A({input:a,eventBus:k=new t({el:a}),datasets:c}));f.when.apply(f,e).always(function(){b.defer(function(){k.trigger("initialized")})})})},destroy:function(){return this.each(function(){var a=f(this),b=a.data("ttView");b&&(b.destroy(),a.removeData("ttView"))})},setQuery:function(a){return this.each(function(){var b=f(this).data("ttView");b&&b.setQuery(a)})}};jQuery.fn.typeahead=function(a){return e[a]?e[a].apply(this,
[].slice.call(arguments,1)):e.initialize.apply(this,arguments)}})()})(window.jQuery);
